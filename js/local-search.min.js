String.prototype.queryUrl=function(e){var t=this.replace(/^[^?=]*\?/gi,"").split("#")[0],c={};return t.replace(/(^|&)([^&=]+)=([^&]*)/g,function(e,t,n,r){try{n=decodeURIComponent(n)}catch(e){}try{r=decodeURIComponent(r)}catch(e){}n in c?c[n]instanceof Array?c[n].push(r):c[n]=[c[n],r]:c[n]=/\[\]$/.test(n)?[r]:r}),e?c[e]:c};var res,searchQuery=location.search.queryUrl(),searchFunc=function(e){fetch(e).then(function(e){return e.json()}).then(function(e){var y,f,g,m,p,t=document.getElementById("search-output"),n=document.getElementById("search-result-num"),r=document.getElementById("search-result-info");void 0!==searchQuery.s&&(y=searchQuery.s,f=searchQuery.type,g="",m=y.trim().toLowerCase().split(/[\s\-]+/),p=0,t.innerHTML="",y.trim().length<=0||(e.forEach(function(e){var n,r,c,s,a,o,i,l,t,u,d,h;void 0!==e.title&&void 0!==e.content&&(n=!0,r=e.title.trim().toLowerCase(),d=new Date(e.date).toLocaleDateString(),c=void 0!==e.tags?e.tags:[],s=e.content.trim().replace(/<[^>]+>/g,"").toLowerCase(),u=e.url,l=i=o=a=-1,"title-only"===f?""!==r&&m.forEach(function(e,t){(a=r.indexOf(e))<0?n=!1:(0===t&&(l=a),p+=1)}):""!==r&&""!==s&&m.forEach(function(e,t){a=r.indexOf(e),o=c.indexOf(e),i=s.indexOf(e),a<0&&o<0&&i<0?n=!1:(i<0&&(i=0),0===t&&(l=i),p+=1)}),n)&&(g+='<div class="tile"><div class="tile-content">',t=e.title,m.forEach(function(e){e=new RegExp(e,"gi");t=t.replace(e,"<strong><mark>"+y+"</mark></strong>")}),g=(g+='<a href="'+u+'"><p class="search-title search-result-title">'+t+"</p></a>")+'<p class="text-gray search-result-summary"><span class="saerch-result-date">'+d+"</span>",u=e.content,0<=l&&(d=l+10,(d=0===(e=(e=l-10)<0?0:e)?30:d)>u.length&&(d=u.length-10),h=u.substr(e,d),m.forEach(function(e){e=new RegExp(e,"gi");h=h.replace(e,"<strong><mark>"+y+"</mark></strong>")}),g+=h+"...</p>"),g+="</div></div>")}),(n.innerHTML=p)<=0?(r.style.display="none",t.innerHTML=window.searchNoResult):(r.style.display="block",t.innerHTML=g)),document.getElementById("search-field").setAttribute("value",searchQuery.s),("title-only"===searchQuery.type?document.getElementById("title-only"):document.getElementById("full-text")).setAttribute("checked",!0))})};